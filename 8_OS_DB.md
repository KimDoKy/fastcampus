# 운영체제

>오퍼레이팅 시스템(영어: Operating System, OS)은 시스템 하드웨어를 관리할뿐 아니라 응용 소프트웨어를 실행하기 위하여 하드웨어 추상화 플랫폼과 공통 시스템 서비스를 제공하는 시스템 소프트웨어이다.  
>[운영체제](https://ko.wikipedia.org/wiki/운영_체제)

### 운영체제의 종류

![os_1](http://www.bayanmall.org/blog/wp-content/uploads/2016/01/OPERATING-SYSTEM.jpg)

운영체제는 크게 Linux, UNIX, Windows로 나뉜다.

![os_2](http://cfile25.uf.tistory.com/image/2116F04B574C35A926E625)

Linux는 UNIX의 아이디어를 기반으로 설계되었다. 따라서, 유닉스의 특징을 포함하고 있다.

Windows는 맥가이버칼처럼 전반적으로 어느 정도 목적에 맞게 쓸 수 있지만 하나에 최적화 되어 있지 않다.  
반면, Unix는 도마칼이나 과도처럼 특정 목적에 맞게 제작된 운영체제라고 할 수 있다.


#### 운영체제는 왜 나오게 되었을까?
컴퓨터를 구동할 수 있는 범용적인 환경을 구축하고자

---

### 운영체제가 하는 일
- 시스템 하드웨어 관리 : 사용자 프로그램의 오류나 잘못된 자원 사용을 감시 입출력 장치 등의 자원에 대한 연산과 제어를 관리
- (가상)시스템 서비스 제공 : 사용자에게 컴퓨터의 프로그램을 쉽고 효율적으로 실행할 수 있는 환경 제공
- 자원관리 : 컴퓨터 시스템 하드웨어 및 소프트웨어 자원을 여러 사용자 간에 효율적 할당, 관리, 보호

**즉, 인간과 컴퓨터가 원활한 대화를 할 수 있도록 적절한 환경을 제공함과 동시에 컴퓨터의 동작을 관리하고 작업순서를 정하며 입출력 연산을 제어하는 역할을 담당한다.**

#### 운영체제가 없다면 어떻게 될까?

운영체제의 가장 중요한 역할은 컴퓨터를 켰을 때 하드웨어가 작업을 할 수 있도록 준비를 해주는 것이다. 만약 운영체제가 없다면 컴퓨터는 부팅에 실패하고 아무런 작업도 하지 못한다. 일단 부팅이 되어야 게임을 하거나 문서를 만들 수 있다. 이 부팅 작업 담당이 운영체제가 하는 가장 기본적이고 핵심적인 일이다.

### 자원관리에 대해 조금 더 알아보자
#### 1. 프로세스 관리


![os_3](http://cfile1.uf.tistory.com/image/2326484857581FFB2F1A98)
   
보조기억장치에 있는 프로그램이 구동되면 주기억장치로 올라온다.  
프로그램은 명령어들의 집합을 말하고 현재 실행되고 있는 프로그램이 프로세스이다.  
프로세스가 형성되면 중앙처리장치인 CPU에서 사용한다.

#### 프로세스 생명주기
![os_4](https://www.tutorialspoint.com/operating_system/images/process_state.jpg)

- `START(NEW)`
	- 프로세스가 **생성**되었지만 아직 운영체제에 의해 실행가능하게 되지 못 한 상태
- `READY` 
	- 프로세스가 실행을 위해 **CPU 할당받기를 기다리는** 상태
- `RUNNING`
	- 프로세스가 **CPU를 할당받아 실제로 실행되고 있는 상태**
	- 프로세스가 할당된 사용시간이 만료되면 READY로 돌아간다.
- `WAIT`
	- **입출력 신호를 대기**하고 있는 상태
	- 입출력 작업이 완료되면 READY로 돌아간다.
- `TERMINATED`
	- 프로세스의 실행이 완전히 끝나고 **CPU할당이 해제**된 상태

#### CPU 스케줄링

CPU는 READY상태에 있는 프로세스들 중에서 선택적으로 CPU를 할당하여 RUNNING상태로 넘겨준다. 선택의 기준은 프로세스의 CPU 이용률, 처리량, 총 처리시간, 대기시간, 응답시간 등에 의해 정해진다.

1. FCFS(First-Come First-Serve)   
	 **준비 상태 큐**에 도착한 순서에 따라 차례로 CPU를 할당   
	 맨 처음 들어온 프로세스가 너무 크면 나중에 들어온 프로세스는 기다려야 하는 문제가 있다.     

2.  SJF(Shortest Job First)   
	**실행 시간이 가장 짧은 프로세스에게 먼저 CPU할당**   
	평균 대기시간이 가장 적은 알고리즘   
	실행시간이 긴 프로세스에 밀려 무한 연기상태 발생 가능   

3. Round Robin Scheduling   
	**시분할 시스템**을 위해 고안된 방식  
	FCFS 기법 변형   
	각 프로세스는 시간 할당량 동안만 실행   
	완료되지 않으면 다음 프로세스에게 CPU를 넘겨주고 준비상태큐의 가장 뒤로 배치   
	할당된 시간이 클수록 FCFS와 비슷   
	할당시간이 적을수록 **문맥교환**과 **오버헤드**가 자주 발생   
	시간을 얼마나 할당해주느냐가 핵심   

4. Priority Based Scheduling   
	프로세스마다 **우선순위** 부여   
	우선순위가 동일한 경우 FCFS 기법으로 할당   
	가장 낮은 순위를 부여 받은 프로세스의 무한 연기 발생가능   

5. Multi Queue Scheduling   
	프로세스를 특정 그룹으로 분류할 수 있을 경우 그룹에 따라 각기 다른 준비단계 큐 사용   
	준비상태 큐 마다 다른 스케줄링 기법 사용 가능   
	다른 준비상태 큐로 이동 불가   
	하위단계 준비 큐에 있는 프로세스를 실행하는 도중이라도 상위 단계 준비상태 큐에 프로세스가 들어오면 상위단계 프로세스에게 CPU할당   
	어떤 목적이나 중요도에 의해 구분   

>**시분할 시스템(Time Sharing System)**  
: 한 컴퓨터를 여러 명의 사용자가 동시에 사용하는 경우, 사용자들이 CPU의 시간 자원을 나누어 쓰는 것을 말한다.

>**문맥교환(Context Switching)**  
: 하나의 프로세스가 CPU를 사용 중인 상태에서 다른 프로세스가 CPU를 사용하도록 하기 위해, 이전의 프로세스의 상태(문맥)를 보관하고 새로운 프로세스의 상태를 적재하는 작업을 말한다.  
: 내가(CPU) 게임을 하고 있는데(이전의 프로세스 상태) 엄마가 심부름을 시켜서(새로운 프로세스) 게임을 멈추고(문맥을 보관하고) 심부름을 수행한다.(새로운 프로세스 상태를 적재)  

>**오버헤드(Overhead)**  
: 어떤 처리를 하기 위해 들어가는 간접적인 처리 시간 · 메모리 등을 말한다. 예를 들어 A라는 처리를 단순하게 실행한다면 10초 걸리는데, 안전성을 고려하고 부가적인 B라는 처리를 추가한 결과 처리시간이 15초 걸렸다면, 오버헤드는 5초가 된다.

#### 은행의 스케줄링

1. FCFS : 모든 고객을 동일한 번호표를 뽑게 한다.
2. SJF : 소요시간이 가장 짧은 고객 순으로 빠른 번호를 부여한다.
3. RRS : 먼저 들어온 고객에게 번호표를 주고, 창구에 최대 머물 수 있는 시간을 정해준다. 5분씩 머물 수 있다면 1번 고객이 5분 사용한 다음 2번 고객에게 자리를 내어주고 1번 고객은 맨 뒷 줄로 돌아간다.
4. PBS : 고객마다 우선순위를 부여하여 늦게 도착해도 우선순위가 높으면 먼저 업무를 볼 수 있다.
5. MQS : 업무의 중요도에 따라 우선순위가 다른 라인을 둔다. 우선순위가 높은 라인에 고객이 대기하고 있으면 먼저 처리해준다.

#### 2. 주기억장치 관리

- 사용자의 작업이 컴퓨터에서 실행되게 하려면 프로그램과 데이터가 주기억장치의 적절한 위치에 배치되도록 관리하는 것이 필요하다.   
	- 관리 방법의 유형에는 사용자 수, 기억장치 분할 방법, 작업이 배치되는 위치, 작업영역의 분포에 따라 관리된다.   
- 메모리 공간 부족이 발생하면 응용프로그램에 공간을 줄이라는 경고를 준다. 여러 번의 경고에도 줄이지 않으면 강제종료를 시켜 해당 메모리 공간을 회수한다.
- 할당된 공간 안에서 명령어와 데이터를 넣는다. 할당되지 않은 영역에 대한 접근이 발생하면 즉시 강제종료 시킨다. 

#### 3. 파일 관리

보조기억장치에 파일을 저장할 때 메모리의 빈 공간에 저장하는데 운영체제에 따라 고유이 파일시스템에 의해 저장된다.

**파일시스템**  

![os_5](http://wcbaramulla.com/wp-content/uploads/2015/11/File-System-OS.png)

- 파일 자원을 관리하고 파일의 생성, 삭제 등 파일 엑세스 및 제어에 대한 책임을 갖는 소프트웨어
- 파일의 저장위치, 저장방법, 저장공간활용, 파일사용할당, 파일 접근 횟수 등과 관련된 복잡한 작업 수행
-  UNIX, Linux, Mac OS, Windows가 서로 다른 파일시스템 방식을 가지고 있다.
- Text.txt를 text.exe로 바꾼다고 해서 내용이 위변조 되는 것은 아니다. 확장자는 단순히 어떤 유형의 파일인지 힌트를 주는 보조수단일 뿐이지 파일 내용을 결정하지는 않는다. 


---

### 데이터베이스(Database)   

![os_7](http://esquaredatabase.com/images/boxbarimage5.jpg)

- 여러 사람에 의해 공유되어 사용될 목적으로 통합하여 관리되는 데이터의 집합  
- 통합된 정보들을 저장하여 운영할 수 있는 공용 데이터들의 묶음


>방대한 양의 데이터를 어떻게 체계적으로 정리하고 효율적으로 운용할 수 있는지에 대한 논의   
저장된 데이터를 이용하여 어떻게 유의미한 형태로 만들어낼 것인가에 대한 논의가 필요   

#### 데이터베이스의 종류
- 관계형
- 키-값형
- 객체형
- 문서형
- 칼럼형  

>대규모 시스템에서는 주로 **관계형** 데이터베이스를 쓴다.  
가장 큰 이유는 **처리속도**가 빠르기 때문이다. 

하지만 설계, 수정하는 작업이 까다롭다.  
다른 형태의 데이터베이스도 속도 개선을 통해 최근 사용량이 증가하는 추세.  

데이터베이스에는 **정규화(Normalization)**가 있다.
  
>정규화란, 관계형 데이터베이스에서 중복을 최소화 하기 위해 **데이터를 구조화** 하는 작업을 말한다.  
1NF, 2NF, 3NF 등이 있는데 보통 3NF 정도만 되면 정규화가 되었다고 말한다.  
[데이터베이스 정규화](https://blog.lael.be/post/71)


#### 자료구조 vs 데이터베이스   
- 자료구조 : 대부분 주기억장치에서 이루어질 내용   
- 데이터베이스 : 대부분 보조기억장치에서 이루어질 내용  

### 데이터베이스 관리 시스템(DBMS : Database Management System)**  
- 사용자나 응용프로그램이 데이터베이스를 공동으로 이용할 수 있도록 관리, 운영하는 소프트웨어 집단  
- 대표적인 DBMS로는 MySQL, MariaDB, PostgreSQL, SQLite 등이 있다.

>MySQL이 DB를 지칭하는 것이 아니다.    
Database와 Database Management System은 다르다.  
"DB는 관계형을 쓰며, DBMS는 MySQL을 쓴다."

#### SQL  
- Structured Query Language
- DBMS를 통해 데이터를 관리하기 위한 구조화된 질의문을 작성하기 위한 언어
- 관계형 데이터베이스 관리 시스템에서 사용  

**쿼리문 예시**  
"SELECT name FROM employees;"  
: employees 테이블에서 name column에 있는 데이터를 출력하라.   

"SELECT * FROM employees WHERE id = 100;"  
: employees 테이블에서 id가 100인 데이터의 모든 정보를 출력하라.
